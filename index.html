<head>
    <script src='date.js'></script>
</head>
<body>
    <script>
        var today = new Date();
        var year = 1900 + today.getYear();
        var month = today.getMonth();
        var days = Date.getDaysInMonth(today.getYear(), month);
        var week = 0;
        for(let i = 1; i <= days; i++)
        {
            var day = new Date(year, month, i);
            if(day.getISOWeek() <= week)
                continue;
            fetch('https://shop.meyer-menue.de/api/v1/menue/NTYxMjA2/year/'+year+'/week/'+week)
                .then(response => response.json())
                .then(data => 
                    {
                        for(var item of data)
                            item.description = item.description?.replace(/{.*}/, '');

                        for(var item of data)
                        {
                            list[item.date] = (list[item.date] ?? 0) + item.amount;
                        }

                        var elem = document.createElement('div');
                        elem.textContent = JSON.stringify(list);
                        document.body.appendChild(elem);
                    });
        }
        var list = {};
    </script>
    Hoho
</body>
