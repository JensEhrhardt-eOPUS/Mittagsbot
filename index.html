<head>
    <script src='date.js'></script>
</head>
<body>
    <script>
        var today = new Date();
        var firstDay = new Date(today.getYear(), today.getMonth(), 1);
        var days = Date.getDaysInMonth(today.getYear(), today.getMonth());
        for(let i = 0; i < days; i++)
        {
            console.log(firstDay.addDays(i));
        }
        var year = today.getYear();
        var week = today.getISOWeek();
        var list = {};
        fetch('https://shop.meyer-menue.de/api/v1/menue/NTYxMjA2/year/'+year+'/week/'+week)
            .then(response => response.json())
            .then(data => 
                {
                    for(var item of data)
                        item.description = item.description?.replace(/{.*}/, '');

                    for(var item of data)
                    {
                        list[item.date] = (list[item.date] ?? 0) + item.amount;
                    }

                    var elem = document.createElement('div');
                    elem.textContent = JSON.stringify(list);
                    document.body.appendChild(elem);
                });
    </script>
    Hoho
</body>
